import{jsxs as e,jsx as a}from"react/jsx-runtime";import{useRadioGroup as o,Modal as i,ModalOverlay as t,ModalContent as s,ModalBody as n,Box as r,useColorModeValue as l,Center as d,HStack as c,Icon as g,VStack as p,Text as m,Stack as h,Flex as v,Divider as u,Button as b}from"@chakra-ui/react";import{useWallet as f}from"@solana/wallet-adapter-react";import{useSolOwnedAmount as j,useErrorHandler as O}from"@strata-foundation/react";import{useState as x}from"react";import{AiOutlinePlus as y}from"react-icons/ai";import{useAnalyticsEventTracker as w}from"../hooks/useAnalyticsEventTracker.js";import{useLoadDelegate as L}from"../hooks/useLoadDelegate.js";import{RadioCardWithAffordance as W}from"./form/RadioCard.js";import{StrataIcon as S}from"../svg/Strata.js";import{WalletIcon as C}from"../svg/Wallet.js";import{LitProtocolWarning as H}from"./LitProtocolWarning.js";const k=[{value:"0.02",heading:"~200",subHeading:"Messages"},{value:"0.05",heading:"~10,000",subHeading:"Messages"},{value:"0.1",heading:"~20,000",subHeading:"Messages"}],z=z=>{const{delegateWallet:R,loading:T,loadDelegate:A,error:D,needsInit:M,needsTopOff:P}=L(),[E,I]=x(k[0].value),{publicKey:G}=f(),{amount:K}=j(G||void 0),{getRootProps:N,getRadioProps:V}=o({name:"options",defaultValue:k[0].value,onChange:I}),q=N(),B=w(),{handleErrors:F}=O();F(D);return e(i,Object.assign({isOpen:!0,size:"xl",onClose:()=>{},isCentered:!0},z,{children:[a(t,{},void 0),a(s,Object.assign({borderRadius:"xl",shadow:"xl"},{children:e(n,Object.assign({p:0},{children:[e(r,Object.assign({position:"relative",p:12,pt:10,pb:14,borderTopRadius:"lg",bg:l("gray.200","gray.800")},{children:[a(d,{children:e(c,Object.assign({spacing:8},{children:[a(g,{as:y,w:"40px",h:"40px",color:"gray.600"},void 0),a(g,{as:C,w:"80px",h:"80px"},void 0)]}),void 0)},void 0),a(g,{w:"62px",h:"59px",position:"absolute",bottom:"-28px",right:"calc(50% - 31px)",as:S},void 0)]}),void 0),e(p,Object.assign({spacing:6,align:"left",p:12},{children:[e(p,Object.assign({spacing:2,align:"stretch"},{children:[a(m,Object.assign({textAlign:"center",fontSize:"xl",fontWeight:"bold"},{children:"Let's load up your Chat Wallet"}),void 0),a(m,Object.assign({textAlign:"center",fontSize:"sm"},{children:"hackblock.space loads a hot wallet that acts as a delegate for your main wallet. This helps us avoid asking for approval for every message. Load it up with as many messages as you want now, you can always top it off later!"}),void 0),a(h,Object.assign({},q,{direction:{base:"column",md:"row"},justifyContent:"center",alignItems:{base:"center",md:"normal"}},{children:k.map((({value:o,heading:i,subHeading:t})=>{const s=V({value:o});return a(W,Object.assign({},s,{children:a(v,Object.assign({h:"full",direction:{base:"row",md:"column"},px:4,py:{base:2,md:0}},{children:e(v,Object.assign({flexGrow:1,h:"full",w:"full",direction:"column",textAlign:"left",position:"relative",top:{base:0,md:-3}},{children:[a(m,Object.assign({fontWeight:"bold",fontSize:"lg",pt:{base:0,md:4}},{children:i}),void 0),a(m,Object.assign({fontSize:"xs",color:"gray.500"},{children:t}),void 0),a(r,Object.assign({py:2},{children:a(u,{},void 0)}),void 0),e(m,Object.assign({fontSize:"md"},{children:["â—Ž ",o," SOL"]}),void 0)]}),void 0)}),void 0)}),o)}))}),void 0)]}),void 0),a(H,{},void 0),a(b,Object.assign({isDisabled:K<+E,mt:4,variant:"solid",colorScheme:"primary",onClick:()=>(async()=>{await A(+E),z.onLoaded(),B({action:"Load Delegate Wallet",value:+E})})(),loadingText:"Loading Hot Wallet...",isLoading:T},{children:K<+E?"Not enough SOL":M?"Create Hot Wallet":"Load Hot Wallet"}),void 0)]}),void 0)]}),void 0)}),void 0)]}),void 0)};export{z as LoadWalletModal};
//# sourceMappingURL=LoadWalletModal.js.map
