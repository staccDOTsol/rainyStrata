import{jsxs as o,jsx as r}from"react/jsx-runtime";import{Alert as e,Box as t,Progress as i,VStack as c,Text as n}from"@chakra-ui/react";import{useInterval as a}from"@strata-foundation/react";import{useState as l,useEffect as s}from"react";import{useAsync as m}from"react-async-hook";function d({onComplete:d,onError:p,exec:u,estTimeMillis:f,text:g}){const[b,h]=l(0),{result:x,error:v}=m(u,[]);return s((()=>{d&&x&&d(x)}),[x,d]),s((()=>{p&&v&&p(v)}),[v,p]),a((()=>{h((o=>o+100))}),100),o(e,Object.assign({w:"290px",bgColor:"black.300",borderTop:"1px",borderTopColor:"gray.600",rounded:"lg",fontFamily:"body",color:"white",status:"success",flexDirection:"column",p:0},{children:[r(t,Object.assign({w:"full"},{children:r(i,{value:100*Math.min(b/f,95)},void 0)}),void 0),r(c,Object.assign({align:"left",w:"full",p:2,spacing:1},{children:r(n,Object.assign({color:"gray.400"},{children:g}),void 0)}),void 0)]}),void 0)}export{d as LongPromiseNotification};
//# sourceMappingURL=LongPromiseNotification.js.map
