{"version":3,"file":"CreateProfileModal.js","sources":["../../src/components/CreateProfileModal.tsx"],"sourcesContent":[null],"names":["validationSchema","yup","object","username","string","required","max","matches","image","mixed","imageUrl","async","createProfile","chatSdk","args","setProgress","instructions","claimInstructions","signers","claimSigners","output","certificateMint","claimIdentifierInstructions","type","IdentifierType","User","identifier","initializeProfileInstructions","identifierCertificateMint","sendMultipleInstructions","errors","Map","provider","CreateProfileModal","props","formProps","useForm","resolver","yupResolver","defaultValues","publicKey","useWallet","register","handleSubmit","watch","clearErrors","setValue","setError","formState","isSubmitting","step","setStep","useState","execute","loading","error","useAsyncCallback","useChatSdk","awaitingApproval","useProvider","handleErrors","useErrorHandler","isOpen","loadWalletIsOpen","onClose","onOpen","useDisclosure","defaultIsOpen","delegateWallet","needsInit","delegateError","loadingNeeds","loadingDelegate","useLoadDelegate","gaEventTracker","useAnalyticsEventTracker","account","profileAccount","info","profile","loadingProfile","useWalletProfile","undefined","wallet","useWalletFromUsernameIdentifier","existingUsername","useUsernameFromIdentifierCertificate","ownerWallet","isUploading","setIsUploading","useEffect","userError","equals","_jsxs","Box","children","_jsx","Link","Object","assign","href","toBase58","truncatePubkey","onCloseCallback","useCallback","useChatStorageAccountKey","hiddenFileInput","React","useRef","imgUrl","setImgUrl","reader","FileReader","onload","event","target","result","readAsDataURL","randomizeFileName","innerImageUploaded","uri","uploadFiles","length","e","message","current","value","LoadWalletModal","onLoaded","Modal","size","isCentered","trapFocus","ModalOverlay","ModalContent","borderRadius","shadow","ModalBody","VStack","pb","pt","spacing","align","FormProvider","onSubmit","action","Text","fontSize","fontWeight","mb","FormControlWithError","id","help","label","Input","Alert","status","FormControl","FormLabel","HStack","w","Button","colorScheme","variant","onClick","click","disabled","Image","alt","name","h","src","color","Icon","as","RiCheckFill","accept","multiple","onChange","file","files","ref","style","display","FormHelperText","Progress","isIndeterminate","mt","isDisabled","isLoading","alignSelf","mr","loadingText"],"mappings":"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"}