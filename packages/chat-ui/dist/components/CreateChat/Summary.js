import{jsx as i,jsxs as e}from"react/jsx-runtime";import{useState as o,useEffect as n}from"react";import{useForm as t}from"react-hook-form";import{Stack as a,Box as s,Text as r,Heading as l,Button as d,Image as c,Progress as m,Alert as g,AlertIcon as h,AlertTitle as v,AlertDescription as b,ButtonGroup as p,Flex as u,Code as f}from"@chakra-ui/react";import{CreateChatStep as j,ReadPostType as O}from"./CreateChatModal.js";const x=({label:o,value:n,children:t})=>e(u,Object.assign({gap:"2"},{children:[e(f,Object.assign({alignItems:"center",fontWeight:"bold",textTransform:"capitalize",lineHeight:"normal",py:1,px:2,display:"flex",flexShrink:0},{children:[o,":"]}),void 0),n&&i(r,Object.assign({fontSize:"lg",isTruncated:!0,w:"auto"},{children:n}),void 0),t]}),void 0),y=({permissionType:o,amount:n,collectionKey:t,onBack:c})=>e(a,{children:[e(s,{children:[e(l,Object.assign({fontWeight:"bold",fontSize:"md",textTransform:"capitalize"},{children:[o," permission"," ",i(d,Object.assign({variant:"link",colorScheme:"primary",size:"xs",onClick:()=>c({read:j.ReadPermissions,post:j.PostPermissions}[o])},{children:"Edit"}),void 0)]}),void 0),i(r,Object.assign({fontSize:"xs",fontWeight:"normal"},{children:"You've decided to use an NFT collection."}),void 0)]},void 0),i(x,{label:"Hold Amount",value:n},void 0),i(x,{label:"Collection Key",value:t},void 0)]},void 0),S=({permissionType:o,isExisting:n,amount:t,mint:c,startingPrice:m,onBack:g})=>e(a,{children:[e(s,{children:[e(l,Object.assign({fontWeight:"bold",fontSize:"md",textTransform:"capitalize"},{children:[o," permission"," ",i(d,Object.assign({variant:"link",colorScheme:"primary",size:"xs",onClick:()=>g({read:j.ReadPermissions,post:j.PostPermissions}[o])},{children:"Edit"}),void 0)]}),void 0),i(r,Object.assign({fontSize:"xs",fontWeight:"normal"},{children:i(r,n?{children:"You've decided to use an existing token."}:{children:"You've decided to create a new token."},void 0)}),void 0)]},void 0),i(x,{label:"Hold Amount",value:t},void 0),i(x,n?{label:"Existing Mint",value:c}:{label:"Starting Price (In SOL)",value:m},void 0)]},void 0),k=({state:u,onBack:f,onNext:k})=>{const[z,T]=o(),{handleSubmit:w}=t(),{status:C,subStatus:B,error:P,wizardData:{name:W,identifier:F,readType:I,readForm:E,postType:A,postForm:D,image:N,imageUrl:R}}=u,Y="submitting"===C;return n((()=>{if(N){const i=new FileReader;i.onload=i=>{T(i.target?.result||"")},i.readAsDataURL(N)}else T(void 0)}),[N]),i("form",Object.assign({onSubmit:w((i=>k()))},{children:e(a,Object.assign({w:"full",alignItems:"start",gap:6,spacing:0},{children:[e(s,{children:[i(r,Object.assign({fontWeight:"bold",fontSize:"md"},{children:"Please verify all the information up until this point"}),void 0),i(r,Object.assign({fontSize:"xs",fontWeight:"normal"},{children:"You're almost there, one step away from your own gated chat!"}),void 0)]},void 0),e(a,Object.assign({w:"full",gap:6},{children:[e(a,{children:[e(l,Object.assign({fontSize:"lg"},{children:["Basic Info"," ",i(d,Object.assign({variant:"link",colorScheme:"primary",size:"xs",onClick:()=>f(j.BasicInfo)},{children:"Edit"}),void 0)]}),void 0),i(x,{label:"name",value:W},void 0),i(x,{label:"domain",value:F+".chat"},void 0),i(x,Object.assign({label:"image"},{children:i(c,{alt:`${F}-chat-image`,w:"80px",h:"80px",src:z||R},void 0)}),void 0)]},void 0),e(a,Object.assign({gap:8},{children:[i(a,{children:I===O.NFT?i(y,Object.assign({},E,{onBack:f,permissionType:"read"}),void 0):i(S,Object.assign({},E,{onBack:f,permissionType:"read"}),void 0)},void 0),i(a,{children:A===O.NFT?i(y,Object.assign({},D,{onBack:f,permissionType:"post"}),void 0):i(S,Object.assign({},D,{onBack:f,permissionType:"post"}),void 0)},void 0)]}),void 0)]}),void 0),B&&e(r,Object.assign({color:"primary.500",fontWeight:"bold"},{children:[B,"Â "]}),void 0),Y&&i(m,{size:"xs",isIndeterminate:!0,colorScheme:"orange",mt:2,w:"full"},void 0),P&&e(g,Object.assign({status:"error",variant:"subtle",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",height:"160px"},{children:[i(h,{boxSize:"40px",mr:0},void 0),i(v,Object.assign({mt:2,mb:1,fontSize:"lg"},{children:"Failed to create chat!"}),void 0),e(b,Object.assign({maxWidth:"sm"},{children:[P.message,i("br",{},void 0),"Please try again..."]}),void 0)]}),void 0),e(p,Object.assign({variant:"outline",colorScheme:"primary",w:"full",isDisabled:Y},{children:[i(d,Object.assign({w:"full",onClick:f},{children:"Back"}),void 0),i(d,Object.assign({w:"full",variant:"solid",type:"submit",isLoading:Y,loadingText:"Creating Chat"},{children:"Create Chat"}),void 0)]}),void 0)]}),void 0)}),void 0)};export{k as Summary};
//# sourceMappingURL=Summary.js.map
