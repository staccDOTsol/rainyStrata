import{jsxs as e,jsx as r,Fragment as t}from"react/jsx-runtime";import{HStack as o,Flex as i,Avatar as a,Text as n}from"@chakra-ui/react";import{MessageType as s}from"@strata-foundation/chat";import{truncatePubkey as c}from"@strata-foundation/react";import{useMemo as d}from"react";import{useAsync as l}from"react-async-hook";import{useUsernameFromIdentifierCertificate as p}from"../../hooks/useUsernameFromIdentifierCertificate.js";import{useWalletProfile as m}from"../../hooks/useWalletProfile.js";const f={color:"gray.500",_hover:{cursor:"pointer",color:"black",_dark:{color:"white"}}},g={content:'""',position:"absolute",left:"50%",top:"8px",width:"2px",height:"12px",bg:"gray.300"},h={content:'""',position:"absolute",left:"50%",top:"8px",width:"20px",height:"2px",bg:"gray.300"};function x({reply:x,scrollToMessage:b}){const{result:u}=l(x.getDecodedMessage,[]),{info:k}=m(x.sender),{username:v,loading:y}=p(k?.identifierCertificateMint,x.sender),j=d((()=>v||x.sender&&c(x.sender)),[v,x?.sender?.toBase58()]);return e(o,Object.assign({p:1,pb:0,w:"full",align:"start",spacing:2,fontSize:"xs"},{children:[r(i,{w:"36px",h:"100%",flexShrink:0,position:"relative",_before:g,_after:h,_dark:{_before:{bg:"gray.700"},_after:{bg:"gray.700"}}},void 0),e(o,Object.assign({gap:0,spacing:1,onClick:()=>b(x.id)},f,{children:[r(a,{size:"2xs",src:k?.imageUrl},void 0),r(n,Object.assign({fontSize:"xs",fontWeight:"semibold",color:"green.500",_dark:{color:"green.200"}},{children:j}),void 0),u?r(t,{children:x.type===s.Text?r(n,Object.assign({maxW:{base:"150px",md:"600px"},isTruncated:!0},{children:u.text}),void 0):x.type===s.Html?r(n,Object.assign({maxW:{base:"150px",md:"600px"},isTruncated:!0},{children:u.html?.replace(/<[^>]*>?/gm,"")}),void 0):r(n,{children:"Click to see attachment"},void 0)},void 0):r(n,{children:"Click to find reply"},void 0)]}),void 0)]}),void 0)}export{x as DisplayReply};
//# sourceMappingURL=DisplayReply.js.map
