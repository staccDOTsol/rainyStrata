import{jsx as t,jsxs as i,Fragment as o}from"react/jsx-runtime";import{MessageType as r}from"@strata-foundation/chat";import{useMemo as e}from"react";import{GiphyFetch as m}from"@giphy/js-fetch-api";import{Gif as n}from"@giphy/react-components";import{useAsync as a}from"react-async-hook";import{Text as s,Skeleton as c}from"@chakra-ui/react";import{GIPHY_API_KEY as f}from"../../constants/globals.js";import{Files as p}from"../Files.js";import d from"sanitize-html";const l=new m(f);async function h(t){if(t){const{data:i}=await l.gif(t);return i}}function g({gifyId:i}){const{result:o,loading:r}=a(h,[i]);return r||!o?t(c,{w:"300px",h:"300px"},void 0):t(n,{gif:o,width:300},void 0)}function y({message:m,messageType:n,htmlAllowlist:a}){const c=e((()=>[...m?.attachments||[],...m?.decryptedAttachments||[]]),[m]);return n===r.Gify?t(g,{gifyId:m.gifyId},void 0):m.type===r.Image?t(p,{files:c},void 0):m.type===r.Text?t(s,Object.assign({mt:"-4px"},{children:m.text}),void 0):i(o,{children:[t(p,{files:c},void 0),t("div",{dangerouslySetInnerHTML:{__html:m.html?d(m.html,a):""}},void 0)]},void 0)}export{y as MessageBody};
//# sourceMappingURL=MessageBody.js.map
