import{jsxs as e,jsx as o}from"react/jsx-runtime";import{HStack as r,Text as i,Show as t}from"@chakra-ui/react";import{useMemo as s}from"react";import{TokenFlare as n}from"../TokenFlare.js";import m from"moment";import{useWalletProfile as a}from"../../hooks/useWalletProfile.js";import{useUsernameFromIdentifierCertificate as c}from"../../hooks/useUsernameFromIdentifierCertificate.js";import{truncatePubkey as f,truthy as d}from"@strata-foundation/react";import{useChatPermissionsFromChat as l}from"../../hooks/useChatPermissionsFromChat.js";function h({chatKey:h,sender:p,startBlockTime:g}){const{info:u}=l(h),{info:j}=a(p),{username:k}=c(j?.identifierCertificateMint,p),y=s((()=>k||p&&f(p)),[k,p?.toBase58()]),b=s((()=>{if(g){const e=new Date(0);return e.setUTCSeconds(g),e}}),[g]),P=s((()=>[u?.readPermissionKey,u?.postPermissionKey].filter(d)),[u?.readPermissionKey,u?.postPermissionKey]);return e(r,Object.assign({alignItems:"center"},{children:[o(i,Object.assign({fontSize:"sm",fontWeight:"semibold",color:"green.500",_dark:{color:"green.200"}},{children:y}),void 0),o(t,Object.assign({below:"md"},{children:o(i,Object.assign({fontSize:"xs",color:"gray.500",_dark:{color:"gray.400"}},{children:m(b).format("LT")}),void 0)}),void 0),o(n,{chat:h,wallet:p,tokens:P},void 0)]}),void 0)}export{h as MessageHeader};
//# sourceMappingURL=MessageHeader.js.map
