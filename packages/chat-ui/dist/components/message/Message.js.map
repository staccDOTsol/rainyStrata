{"version":3,"file":"Message.js","sources":["../../../src/components/message/Message.tsx"],"sourcesContent":[null],"names":["defaultOptions","allowedTags","allowedAttributes","a","Message","props","ref","useRef","isActive","setIsActive","useState","useOutsideClick","handler","id","messageId","getDecodedMessage","sender","readPermissionAmount","chatKey","txids","startBlockTime","htmlAllowlist","reacts","type","messageType","showUser","pending","reply","scrollToMessage","publicKey","useWallet","referenceMessageId","emojiReferenceMessageId","showPicker","useEmojis","info","profile","useWalletProfile","chatPermissions","useChatPermissionsFromChat","time","useMemo","t","Date","setUTCSeconds","readMint","readPermissionKey","mintAcc","useMint","metadata","useTokenMetadata","tokenAmount","humanReadable","ownedReadAmount","ownedPostAmount","useChatOwnedAmounts","undefined","notEnoughTokens","toNumber","result","message","loading","decoding","error","decodeError","useAsync","_","Promise","resolve","lockedColor","useColorModeValue","highlightedBg","handleErrors","useErrorHandler","sendMessage","useSendMessage","handleOnReaction","useCallback","replyMessage","useReply","bg","textColor","loadingSkeleton","_jsx","Skeleton","Object","assign","startColor","height","children","Array","from","length","genLength","join","buyMoreTrigger","Tooltip","label","data","symbol","_jsxs","HStack","onClick","spacing","_hover","cursor","speed","Icon","color","as","BsLockFill","MessageType","React","Box","onMouseEnter","onMouseLeave","position","Flex","right","base","md","top","zIndex","justifyContent","alignItems","e","preventDefault","MessageToolbar","VStack","gap","w","DisplayReply","pl","pr","pb","pt","align","className","Avatar","mt","size","src","imageUrl","MessageHeader","textAlign","wordBreak","MessageBody","BuyMoreButton","mint","trigger","Reacts","onAddReaction","onReact","emoji","mine","flexShrink","Hide","below","Text","fontSize","_dark","moment","format","MessageStatus","lengths","Math","random","MemodMessage","memo"],"mappings":"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"}