import{ENTRY_SEED as o,NAMESPACES_PROGRAM_ID as r}from"@cardinal/namespaces";import{utils as e}from"@project-serum/anchor";import{PublicKey as t}from"@solana/web3.js";import{useAccount as a}from"@strata-foundation/react";import{useAsync as n}from"react-async-hook";import{useChatSdk as s}from"../contexts/chatSdk.js";import{useChatKey as c}from"./useChatKey.js";function i(i){const{chatSdk:m}=s(),{result:d,loading:f,error:p}=n((async o=>o?o.getNamespaces():void 0),[m]),{result:y,loading:l,error:u}=n((async(a,n)=>a&&n?t.findProgramAddressSync([e.bytes.utf8.encode(o),new t(n).toBytes(),e.bytes.utf8.encode(a)],r):void 0),[i,d?.chatNamespace.toBase58()]),{info:g,loading:h}=a(y?y[0]:void 0,m?.entryDecoder),{key:j,loading:k}=c(g?.mint);return{loading:f||l||h||k,chatKey:j,error:p||u}}export{i as useChatKeyFromIdentifier};
//# sourceMappingURL=useChatKeyFromIdentifier.js.map
