{"version":3,"file":"sendMessage.js","sources":["../../src/contexts/sendMessage.tsx"],"sourcesContent":[null],"names":["async","sendMessage","chatKey","chatSdk","accelerator","delegateWalletKeypair","cluster","onAddPendingMessage","message","nftMint","readPermissionAmount","readPermissionKey","readPermissionType","payer","publicKey","wallet","instructions","instructionGroups","signers","signerGroups","output","messageId","sendMessageInstructions","chat","encrypted","txsAndIds","Promise","all","map","index","tx","Transaction","recentBlockhash","provider","connection","getLatestBlockhash","blockhash","feePayer","add","length","sign","signTransaction","rawTx","serialize","sendTransaction","txid","sendRawTransaction","skipPreflight","blockTime","Number","getAccountInfo","SYSVAR_CLOCK_PUBKEY","data","readBigInt64LE","fileAttachments","rest","content","decryptedAttachments","complete","type","sender","id","JSON","stringify","txids","getDecodedMessage","resolve","encryptedSymmetricKey","startBlockTime","endBlockTime","parts","pending","referenceMessageId","sendAndConfirmWithRetry","useStrataSendMessage","useChatSdk","useAccelerator","keypair","useDelegateWallet","useChat","useEndpoint","info","chatPermissions","useChatPermissionsFromChat","matches","useCollectionOwnedAmount","postPermissionKey","error","loading","execute","useAsyncCallback","defaultReadPermissionAmount","SendMessageContext","createContext","SendMessageProvider","children","ret","_jsx","Provider","Object","assign","value","useSendMessage","context","useContext","undefined","Error"],"mappings":"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"}