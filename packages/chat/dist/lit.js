import{__awaiter as e}from"./node_modules/tslib/tslib.es6.js";import t from"tweetnacl";import{TextEncoder as s}from"util";import{toString as o}from"uint8arrays";const i="undefined"==typeof TextEncoder?s:TextEncoder,n="I am creating an account to use Lit Protocol at {{timestamp}}";function r(s,r){return e(this,void 0,void 0,(function*(){const e=(new Date).toISOString(),a=n.replace("{{timestamp}}",e),c=(new i).encode(a);let d;if(r instanceof Uint8Array)d=t.sign.detached(c,r);else try{d=yield r.signMessage(c,"utf8")}catch(e){throw new Error(`Error signing lit message. This may be because you are using a Ledger, which does not support signMessage. ${e}`)}return{sig:o(d,"base16"),derivedVia:"solana.signMessage",signedMessage:a,address:s.toBase58()}}))}export{n as AUTH_SIGNATURE_BODY,r as getAuthSig};
//# sourceMappingURL=lit.js.map
