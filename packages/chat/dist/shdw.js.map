{"version":3,"file":"shdw.js","sources":["../src/shdw.ts"],"sourcesContent":[null],"names":["NodeWallet","constructor","payer","this","signTransaction","tx","partialSign","signAllTransactions","txs","map","t","publicKey","PROGRAM_ID","PublicKey","SHDW","getStorageAccount","key","accountSeed","findProgramAddress","Buffer","from","toBytes","toTwos","toArrayLike","getEndpoint","connection","endpoint","_rpcEndpoint","includes","initStorageIfNeeded","provider","delegateWallet","sizeBytes","maybeUseDevnetWallet","Connection","localProvider","AnchorProvider","wallet","pubKey","shdwDrive","ShdwDrive","accountKey","BN","storageAccount","e","sizeKB","storageAvailable","Number","reserved_bytes","current_usage","storageAccountBigEnough","Math","ceil","sizeToAdd","console","log","shdwNeeded","max","pow","shdwOwnedAmount","mint","ata","Token","getAssociatedTokenAddress","ASSOCIATED_TOKEN_PROGRAM_ID","TOKEN_PROGRAM_ID","mintAcc","getMintInfo","acct","getAccountInfo","toNumber","u64","fromBuffer","AccountLayout","decode","data","amount","getOwnedAmount","solOwnedAmount","_a","lamports","Error","toBase58","orcaSolPool","getOrca","getPool","OrcaPoolConfig","SHDW_SOL","solToken","getTokenB","shdwToken","getTokenA","quote","getQuote","Decimal","getExpectedOutputAmount","toU64","gte","swapPayload","swap","transaction","recentBlockhash","getRecentBlockhash","blockhash","feePayer","signers","filter","truthy","sign","sendAndConfirmWithRetry","serialize","skipPreflight","sleep","init","withRetries","addStorage","createStorageAccount","makeStorageImmutable","uploadFiles","files","tries","length","size","reduce","acc","f","__awaiter","uploaded","uploadMultipleFiles","r","location","randomizeFileName","file","ext","name","split","pop","random","toString","slice","Object","defineProperty","writable","value","DEVNET_WALLET","Keypair","fromSecretKey","Uint8Array","arg0","warn"],"mappings":"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"}