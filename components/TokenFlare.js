import{jsx as t,jsxs as o}from"react/jsx-runtime";import{useChatPermissionsFromChat as e}from"../hooks/useChatPermissionsFromChat.js";import{useColorModeValue as a,HStack as n,Avatar as r,Text as i}from"@chakra-ui/react";import{PublicKey as s}from"@solana/web3.js";import{useTokenMetadata as m,roundToDecimals as l}from"@strata-foundation/react";import{numberWithCommas as c}from"@strata-foundation/spl-utils";import{useMemo as d,Fragment as p}from"react";import{useChatOwnedAmounts as f}from"../hooks/useChatOwnedAmounts.js";function u({token:s,wallet:d,chat:p}){const{info:u}=e(p),{ownedReadAmount:h,ownedPostAmount:g,isSame:w,loading:x}=f(d,p),{image:j,metadata:k}=m(s),b=a("gray.500","gray.400");if(x||!u)return null;const v=s.equals(u.readPermissionKey)?h:g;return o(n,Object.assign({paddingLeft:"2px",spacing:1,alignItems:"flex-end"},{children:[t(r,{alignSelf:"center",w:"12px",h:"12px",mt:"-1.5px",title:k?.data.symbol,src:j},void 0),t(i,Object.assign({fontSize:"xs",color:b},{children:c(l(v||0,2))}),void 0)]}),void 0)}function h({tokens:o,wallet:e,chat:a}){const n=d((()=>[...new Set(o.map((t=>t.toBase58())))].map((t=>new s(t)))),[o]);return t(p,{children:n.map((o=>t(u,{token:o,wallet:e,chat:a},o?.toBase58())))},void 0)}export{h as TokenFlare};
//# sourceMappingURL=TokenFlare.js.map
