import{jsxs as i,jsx as e}from"react/jsx-runtime";import{HStack as r,Popover as t,PopoverTrigger as n,Button as o,Text as s,PopoverContent as d,PopoverBody as a,Icon as c}from"@chakra-ui/react";import{useErrorHandler as l,truncatePubkey as h}from"@strata-foundation/react";import{MdOutlineAddReaction as g}from"react-icons/md";import{useInflatedReacts as m}from"../../hooks/useInflatedReacts.js";import{useWalletProfile as f}from"../../hooks/useWalletProfile.js";import{useUsernameFromIdentifierCertificate as p}from"../../hooks/useUsernameFromIdentifierCertificate.js";function b({sender:e}){const{info:r}=f(e),{username:t}=p(r?.identifierCertificateMint,e),n=t||e&&h(e);return i(s,{children:[n," "]},void 0)}function v({reacts:h,onReact:f,onAddReaction:p}){const{reacts:v,error:u,loading:j}=m(h),{handleErrors:x}=l();return x(u),v&&v.length>0?i(r,Object.assign({mt:2,pt:1},{children:[v.map((({emoji:c,messages:l,mine:h})=>i(t,Object.assign({matchWidth:!0,trigger:"hover"},{children:[e(n,{children:e(o,Object.assign({onClick:()=>f(c,h),borderLeftRadius:"20px",width:"55px",borderRightRadius:"20px",p:0,variant:h?"solid":"outline",size:"sm"},{children:i(r,Object.assign({spacing:1},{children:[e(s,Object.assign({lineHeight:0,fontSize:"lg"},{children:c}),void 0),e(s,Object.assign({lineHeight:0,fontSize:"sm"},{children:l.length}),void 0)]}),void 0)}),c)},void 0),e(d,Object.assign({width:"fit-content",fontSize:"xs",borderRadius:"md",bg:"gray.200",border:0,color:"black",py:0,px:0,_dark:{bg:"gray.700",color:"white"}},{children:e(a,{children:i(r,Object.assign({spacing:1},{children:[l.slice(0,3).map(((t,n)=>i(r,Object.assign({spacing:0},{children:[e(b,{sender:t.sender},void 0),l.length-1!=n&&e(s,{children:", "},void 0)]}),t.id))),l.length>3&&i(s,{children:["and ",l.length-3," others"]},void 0)]}),void 0)},void 0)}),void 0)]}),c))),e(o,Object.assign({borderLeftRadius:"20px",width:"55px",borderRightRadius:"20px",variant:"outline",size:"sm",onClick:p},{children:e(c,{as:g},void 0)}),void 0)]}),void 0):e("div",{},void 0)}export{v as Reacts};
//# sourceMappingURL=Reacts.js.map
