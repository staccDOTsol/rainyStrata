import{jsx as o,Fragment as r,jsxs as e}from"react/jsx-runtime";import{useDisclosure as i,HStack as a,Button as t,useColorModeValue as l,Image as n,Icon as s,Text as c,Menu as d,MenuButton as m,IconButton as u,MenuList as b,MenuOptionGroup as p,MenuItemOption as g,MenuDivider as v,MenuItem as h}from"@chakra-ui/react";import{WalletAdapterNetwork as f}from"@solana/wallet-adapter-base";import{useWallet as C}from"@solana/wallet-adapter-react";import{useWalletModal as k}from"@solana/wallet-adapter-react-ui";import{useEndpoint as y}from"@strata-foundation/react";import{useCallback as j}from"react";import{BsFillPersonFill as w,BsCaretDownFill as O}from"react-icons/bs";import{useWalletProfile as _}from"../hooks/useWalletProfile.js";import{useUsernameFromIdentifierCertificate as x}from"../hooks/useUsernameFromIdentifierCertificate.js";import{CreateProfileModal as z}from"./CreateProfileModal.js";const R=({children:R="Select Wallet",onClick:M,...P})=>{const{disconnect:D,connected:S,publicKey:W}=C(),I=j((()=>{D(),localStorage.removeItem("lit-auth-sol-signature")}),[D]),{visible:L,setVisible:N}=k(),{info:U}=_(W||void 0),{username:E}=x(U?.identifierCertificateMint,U?.ownerWallet),{isOpen:F,onOpen:K,onClose:T}=i(),V=j((o=>{M&&M(o),o.defaultPrevented||(S?K():N(!L))}),[M,L,N,S,K]),{cluster:q,setClusterOrEndpoint:A}=y();return o(r,{children:e(a,Object.assign({w:"full",gap:0,spacing:0},{children:[o(z,{onClose:T,isOpen:F},void 0),e(t,Object.assign({w:"full",m:0,variant:"ghost",justifyContent:"start",color:l("black","white"),borderColor:"gray.500",size:P.size||"lg"},P,{onClick:V,borderTopRadius:0,borderRightRadius:0,_hover:{backgroundColor:"gray.200",_dark:{backgroundColor:"gray.800"}}},{children:[U?o(n,{alt:"",m:1,borderRadius:"full",boxSize:"36px",src:U.imageUrl},void 0):o(s,{m:1,w:"16px",h:"16px",as:w},void 0),o(c,Object.assign({m:1},{children:S?U?E:"Create Profile":R}),void 0)]}),void 0),e(d,Object.assign({isLazy:!0},{children:[o(m,{w:20,size:P.size||"lg",as:u,color:l("black","white"),variant:"ghost",borderColor:"primary.500",borderRadius:0,"aria-label":"Network",icon:o(s,{w:"24px",h:"24px",as:O},void 0)},void 0),e(b,Object.assign({backgroundColor:l("white","black.300"),borderColor:"black.500"},{children:[e(p,Object.assign({title:"Network",type:"radio",onChange:o=>A(o),value:q},{children:[o(g,Object.assign({value:f.Mainnet,_focus:{backgroundColor:"primary.300"},_hover:{backgroundColor:"primary.500"}},{children:"Mainnet"}),void 0),o(g,Object.assign({_focus:{backgroundColor:"primary.300"},_hover:{backgroundColor:"primary.500"},value:f.Devnet},{children:"Devnet"}),void 0),o(g,Object.assign({_focus:{backgroundColor:"primary.300"},_hover:{backgroundColor:"primary.500"},value:"localnet"},{children:"Localnet"}),void 0)]}),void 0),o(v,{},void 0),o(h,Object.assign({onClick:I,_focus:{backgroundColor:"primary.300"},_hover:{backgroundColor:"primary.500"}},{children:"Disconnect"}),void 0)]}),void 0)]}),void 0)]}),void 0)},void 0)};export{R as ProfileButton};
//# sourceMappingURL=ProfileButton.js.map
