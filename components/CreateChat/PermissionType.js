import{jsxs as e,jsx as i}from"react/jsx-runtime";import{useState as a,useEffect as o}from"react";import{useRadioGroup as t,VStack as s,Box as r,Text as n,HStack as d,Switch as c,Stack as l,Flex as m,ButtonGroup as p,Button as g}from"@chakra-ui/react";import{RadioCardWithAffordance as h}from"../form/RadioCard.js";import{CreateChatStep as f,ReadPostType as u}from"./CreateChatModal.js";const v=({state:v,setState:b,defaultValue:w,permissionType:j,onBack:z,onNext:y})=>{const O="post"===j,[S,k]=a(w),{getRootProps:C,getRadioProps:D}=t({name:"readType",value:w,onChange:e=>{k(e),b({...v,wizardData:{...v.wizardData,postIsSameAsRead:!1,...O?{postPermissions:void 0}:{readPermissions:void 0}}})}}),x=C();o((()=>{S&&b({...v,wizardData:{...v.wizardData,[`${j}Type`]:S}})}),[S,b]);return e(s,Object.assign({w:"full",alignItems:"start",gap:6,spacing:0},{children:[e(r,{children:[e(n,Object.assign({fontWeight:"bold",fontSize:"md"},{children:["Set your ",j," permissions."]}),void 0),e(n,Object.assign({fontSize:"xs",fontWeight:"normal"},{children:["How do you want to gate ",j,"ing messages in your chat?"]}),void 0)]},void 0),v.step===f.PostPermissionsType&&e(d,{children:[i(c,{size:"lg",colorScheme:"primary",isChecked:v.wizardData.postIsSameAsRead,onChange:e=>{const i=e.target.checked;k(void 0),b({...v,wizardData:{...v.wizardData,postIsSameAsRead:i,[`${j}Type`]:void 0,...i?{postForm:v.wizardData.readForm}:{postForm:void 0}}})}},void 0),i(n,{children:"Same as read permissions"},void 0)]},void 0),i(l,Object.assign({},x,{w:"full",direction:{base:"column",md:"row"},justifyContent:"center",alignItems:{base:"center",md:"normal"}},{children:Object.keys(u).map((a=>{const o=D({value:a});return i(h,Object.assign({},o,{isChecked:S===a},{children:i(m,Object.assign({h:"full",direction:{base:"row",md:"column"},px:4,py:{base:2,md:0}},{children:e(m,Object.assign({flexGrow:1,h:"full",w:"full",direction:"column",textAlign:"left",position:"relative",gap:4,top:{base:0,md:-3}},{children:[i(n,Object.assign({fontWeight:"bold",fontSize:"lg",pt:{base:0,md:4}},{children:a}),void 0),e(n,Object.assign({fontSize:"xs"},{children:[a===u.Token&&`Participants need to hold a certain amount of a token to ${j} messages`,a===u.NFT&&`Participants need to hold a NFT from a certain collection to ${j} messages`]}),void 0)]}),void 0)}),void 0)}),a)}))}),void 0),e(p,Object.assign({variant:"outline",colorScheme:"primary",w:"full"},{children:[i(g,Object.assign({w:"full",onClick:z},{children:"Back"}),void 0),i(g,Object.assign({w:"full",variant:"solid",onClick:y,isDisabled:!(S||v.wizardData.postIsSameAsRead)},{children:"Next"}),void 0)]}),void 0)]}),void 0)};export{v as PermissionType};
//# sourceMappingURL=PermissionType.js.map
